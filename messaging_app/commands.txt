# Step 1: Install Nginx Ingress Controller using Helm
helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update
helm install nginx-ingress ingress-nginx/ingress-nginx

# Step 2: Apply the ingress configuration file
kubectl apply -f ingress.yaml

# Step 3: Verify that the ingress is created and running
kubectl get ingress

# Step 4: Get the external IP (for Minikube)
minikube service nginx-ingress-ingress-nginx-controller --url

# Step 5: Add messaging.local to your /etc/hosts file (for local testing)
# Example:
# echo "$(minikube ip) messaging.local" | sudo tee -a /etc/hosts